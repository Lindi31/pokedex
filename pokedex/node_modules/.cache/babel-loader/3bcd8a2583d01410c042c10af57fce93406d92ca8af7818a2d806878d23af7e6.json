{"ast":null,"code":"var _s = $RefreshSig$();\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\nconst PresenceChild = ({\n  children,\n  initial,\n  isPresent,\n  onExitComplete,\n  custom,\n  presenceAffectsLayout,\n  mode\n}) => {\n  _s();\n  const presenceChildren = useConstant(newChildrenMap);\n  const id = useId();\n  const context = useMemo(() => ({\n    id,\n    initial,\n    isPresent,\n    custom,\n    onExitComplete: childId => {\n      presenceChildren.set(childId, true);\n      for (const isComplete of presenceChildren.values()) {\n        if (!isComplete) return; // can stop searching when any is incomplete\n      }\n      onExitComplete && onExitComplete();\n    },\n    register: childId => {\n      presenceChildren.set(childId, false);\n      return () => presenceChildren.delete(childId);\n    }\n  }),\n  /**\n   * If the presence of a child affects the layout of the components around it,\n   * we want to make a new context value to ensure they get re-rendered\n   * so they can detect that layout change.\n   */\n  presenceAffectsLayout ? undefined : [isPresent]);\n  useMemo(() => {\n    presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n  }, [isPresent]);\n  /**\n   * If there's no `motion` components to fire exit animations, we want to remove this\n   * component immediately.\n   */\n  React.useEffect(() => {\n    !isPresent && !presenceChildren.size && onExitComplete && onExitComplete();\n  }, [isPresent]);\n  if (mode === \"popLayout\") {\n    children = /*#__PURE__*/React.createElement(PopChild, {\n      isPresent: isPresent\n    }, children);\n  }\n  return /*#__PURE__*/React.createElement(PresenceContext.Provider, {\n    value: context\n  }, children);\n};\n_s(PresenceChild, \"LuJRAK72iQdFH7nv0cJ6ZjdNWv8=\", false, function () {\n  return [useConstant, useId];\n});\n_c = PresenceChild;\nfunction newChildrenMap() {\n  return new Map();\n}\nexport { PresenceChild };\nvar _c;\n$RefreshReg$(_c, \"PresenceChild\");","map":{"version":3,"names":["React","useId","useMemo","PresenceContext","useConstant","PopChild","PresenceChild","children","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","mode","_s","presenceChildren","newChildrenMap","id","context","childId","set","isComplete","values","register","delete","undefined","forEach","_","key","useEffect","size","createElement","Provider","value","_c","Map","$RefreshReg$"],"sources":["C:/Users/arlind/Documents/GitHub/pokedex/pokedex/src/node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs"],"sourcesContent":["import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,KAAK,EAAEC,OAAO,QAAQ,OAAO;AACtC,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,WAAW,QAAQ,8BAA8B;AAC1D,SAASC,QAAQ,QAAQ,gBAAgB;AAEzC,MAAMC,aAAa,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,SAAS;EAAEC,cAAc;EAAEC,MAAM;EAAEC,qBAAqB;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EAC9G,MAAMC,gBAAgB,GAAGX,WAAW,CAACY,cAAc,CAAC;EACpD,MAAMC,EAAE,GAAGhB,KAAK,CAAC,CAAC;EAClB,MAAMiB,OAAO,GAAGhB,OAAO,CAAC,OAAO;IAC3Be,EAAE;IACFT,OAAO;IACPC,SAAS;IACTE,MAAM;IACND,cAAc,EAAGS,OAAO,IAAK;MACzBJ,gBAAgB,CAACK,GAAG,CAACD,OAAO,EAAE,IAAI,CAAC;MACnC,KAAK,MAAME,UAAU,IAAIN,gBAAgB,CAACO,MAAM,CAAC,CAAC,EAAE;QAChD,IAAI,CAACD,UAAU,EACX,OAAO,CAAC;MAChB;MACAX,cAAc,IAAIA,cAAc,CAAC,CAAC;IACtC,CAAC;IACDa,QAAQ,EAAGJ,OAAO,IAAK;MACnBJ,gBAAgB,CAACK,GAAG,CAACD,OAAO,EAAE,KAAK,CAAC;MACpC,OAAO,MAAMJ,gBAAgB,CAACS,MAAM,CAACL,OAAO,CAAC;IACjD;EACJ,CAAC,CAAC;EACF;AACJ;AACA;AACA;AACA;EACIP,qBAAqB,GAAGa,SAAS,GAAG,CAAChB,SAAS,CAAC,CAAC;EAChDP,OAAO,CAAC,MAAM;IACVa,gBAAgB,CAACW,OAAO,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAKb,gBAAgB,CAACK,GAAG,CAACQ,GAAG,EAAE,KAAK,CAAC,CAAC;EAC1E,CAAC,EAAE,CAACnB,SAAS,CAAC,CAAC;EACf;AACJ;AACA;AACA;EACIT,KAAK,CAAC6B,SAAS,CAAC,MAAM;IAClB,CAACpB,SAAS,IACN,CAACM,gBAAgB,CAACe,IAAI,IACtBpB,cAAc,IACdA,cAAc,CAAC,CAAC;EACxB,CAAC,EAAE,CAACD,SAAS,CAAC,CAAC;EACf,IAAII,IAAI,KAAK,WAAW,EAAE;IACtBN,QAAQ,gBAAGP,KAAK,CAAC+B,aAAa,CAAC1B,QAAQ,EAAE;MAAEI,SAAS,EAAEA;IAAU,CAAC,EAAEF,QAAQ,CAAC;EAChF;EACA,oBAAQP,KAAK,CAAC+B,aAAa,CAAC5B,eAAe,CAAC6B,QAAQ,EAAE;IAAEC,KAAK,EAAEf;EAAQ,CAAC,EAAEX,QAAQ,CAAC;AACvF,CAAC;AAACO,EAAA,CA5CIR,aAAa;EAAA,QACUF,WAAW,EACzBH,KAAK;AAAA;AAAAiC,EAAA,GAFd5B,aAAa;AA6CnB,SAASU,cAAcA,CAAA,EAAG;EACtB,OAAO,IAAImB,GAAG,CAAC,CAAC;AACpB;AAEA,SAAS7B,aAAa;AAAG,IAAA4B,EAAA;AAAAE,YAAA,CAAAF,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}